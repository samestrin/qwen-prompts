# ---------------------------------------------------------------------------
# Command: /create-sprint
#
# Description:
#   Analyzes the current project and generates a detailed, actionable
#   sprint plan based on a feature request.
#
# Usage Example:
#
#   1. Plan a new feature sprint:
#      /create-sprint-plan Implement user authentication with JWT
#
#   2. Plan a refactoring sprint:
#      /create-sprint-plan Refactor the caching layer to use Redis
# ---------------------------------------------------------------------------

name = "create-sprint-plan"
description = "Generates a detailed sprint plan from a feature request"

prompt = """
**Analysis Phase:**
`gemini -p "@. You are an expert software architect. Analyze the provided project files to understand the technology stack, architecture patterns, testing strategy, and existing sprint conventions. Your goal is to gather all necessary context to create a new sprint plan for the following feature request: **"{{args}}"**. Summarize your findings, include a list of affected files."`

---

Now, Using the analysis report above as your primary context, generate a complete and actionable sprint plan for the following feature request: **"{{args}}"**.

You must follow these detailed instructions for generating the sprint plan:

---
### **Instructions for Sprint Plan Generation**

You are an expert software architect and project manager. Your task is to analyze the project context from the report above and generate a detailed, actionable sprint plan.

#### **Analysis and Adaptation**
- **Adapt to Project Technology:** Use language-appropriate file extensions and naming conventions. Reference the correct testing frameworks and tools for the detected stack. Include framework-specific implementation details and use the correct package management commands.
- **Maintain Template Structure:** Preserve the phase-based approach, TDD methodology, and git workflow from the template below.
- **Contextualize to Requirements:** Break down the requested feature into logical phases. Identify dependencies, estimate scope, and plan for any necessary configuration or database changes.

#### **File Generation Requirements**
- **Naming Convention:** Follow the pattern `##.#_<sprintname>.md` and place the file in the `/planning/sprints/active/` directory.
- **Content Adaptation:** Replace template placeholders with project-specific details. Update file paths, import statements, and directory references to match the project structure.
- **Implementation Details:** Provide concrete, actionable tasks, including specific file locations and implementation approaches.

#### **Quality Assurance**
Ensure the generated sprint plan is immediately actionable, follows project conventions, includes comprehensive testing, and maintains code quality.

---
### **Sprint Plan Template**

Here is the sprint template plan to use:
`gemini -p "@-https://raw.githubusercontent.com/samestrin/qwen-prompts/refs/heads/main/planning/sprints/example.md"`

---
Save the output following the **Naming Convention** defined above in the @planning/sprints/active folder.
"""
